<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Remote</title>
    <style>
        body {
            text-align: center;
        }

        #display-forms, #mistakes-forms {
            display: flex;
            flex-direction: row;
            justify-content: space-around;
        }

        #answers > label {
            margin: 10px;
        }

        button, input[type=submit] {
            margin: 10px;
            font-size: larger;
        }

    </style>
    <script src="../static/jquery-3.7.1.js"></script>
</head>
<body>
<h1>DISPLAY CONTROL</h1>
<div id="display-forms">
    <form id="fst">
        <label for="fst-query">FIRST TEAM DISPLAY</label><br>
        <input type="text" name="query" id="fst-query"><br>
        <input type="submit" value="Show Points"><br>
    </form>
    <form id="snd">
        <label for="snd-query">SECOND TEAM DISPLAY</label><br>
        <input type="text" name="query" id="snd-query"><br>
        <input type="submit" value="Show Points"><br>
    </form>
</div>
<h1>BOARD CONTROL</h1>
<button id="sign">Show Sign</button>
<button id="clear">Clear Screen</button>

<form id="answers">
    <label for="answer1">Answer:</label><input type="text" id="answer1" name="answer1">
    <label for="points1">Points:</label><input type="number" min="1" max="99" id="points1" name="points1">
    <label for="hidden1">Hidden:</label><input type="checkbox" id="hidden1" name="hidden1" checked="checked"><br>
    <label for="answer2">Answer:</label><input type="text" id="answer2" name="answer2">
    <label for="points2">Points:</label><input type="number" min="1" max="99" id="points2" name="points2">
    <label for="hidden2">Hidden:</label><input type="checkbox" id="hidden2" name="hidden2" checked="checked"><br>
    <label for="answer3">Answer:</label><input type="text" id="answer3" name="answer3">
    <label for="points3">Points:</label><input type="number" min="1" max="99" id="points3" name="points3">
    <label for="hidden3">Hidden:</label><input type="checkbox" id="hidden3" name="hidden3" checked="checked"><br>
    <label for="answer4">Answer:</label><input type="text" id="answer4" name="answer4">
    <label for="points4">Points:</label><input type="number" min="1" max="99" id="points4" name="points4">
    <label for="hidden4">Hidden:</label><input type="checkbox" id="hidden4" name="hidden4" checked="checked"><br>
    <label for="answer5">Answer:</label><input type="text" id="answer5" name="answer5">
    <label for="points5">Points:</label><input type="number" min="1" max="99" id="points5" name="points5">
    <label for="hidden5">Hidden:</label><input type="checkbox" id="hidden5" name="hidden5" checked="checked"><br>
    <label for="answer6">Answer:</label><input type="text" id="answer6" name="answer6">
    <label for="points6">Points:</label><input type="number" min="1" max="99" id="points6" name="points6">
    <label for="hidden6">Hidden:</label><input type="checkbox" id="hidden6" name="hidden6" checked="checked"><br>
    <input type="submit" value="Show answers">
</form>

<form id="mistakes">
    <div id="mistakes-forms">
        <div>
            <h3>Left mistakes</h3>
            <input type="radio" id="left0" name="left" value="0"><label for="left0">No mistakes</label><br>
            <input type="radio" id="left1" name="left" value="1"><label for="left1">1 Small Mistake</label><br>
            <input type="radio" id="left2" name="left" value="2"><label for="left2">2 Small Mistakes</label><br>
            <input type="radio" id="left3" name="left" value="3"><label for="left3">3 Small Mistakes</label><br>
            <input type="radio" id="leftb" name="left" value="big"><label for="leftb">1 Big Mistake</label><br>
        </div>
        <div>
            <h3>Right Mistakes</h3>
            <input type="radio" id="right0" name="right" value="0"><label for="right0">No mistakes</label><br>
            <input type="radio" id="right1" name="right" value="1"><label for="right1">1 Small Mistake</label><br>
            <input type="radio" id="right2" name="right" value="2"><label for="right2">2 Small Mistakes</label><br>
            <input type="radio" id="right3" name="right" value="3"><label for="right3">3 Small Mistakes</label><br>
            <input type="radio" id="rightb" name="right" value="big"><label for="rightb">1 Big Mistake</label><br>
        </div>
    </div>
    <input type="submit" value="Set Mistakes">
</form>


<script>
    $(document).ready(function () {
        $("#fst").on("submit", function (event) {
            event.preventDefault();
            const url = "../send/?target=1&query=" + encodeURIComponent($("#fst-query").val())
            fetch(url, {method: "POST"});
        })

        $("#snd").on("submit", function (event) {
            event.preventDefault();
            const url = "../send/?target=2&query=" + encodeURIComponent($("#snd-query").val())
            fetch(url, {method: "POST"});
        })

        $("#sign").on("click", function () {
            $.post("../send/?target=sign&query=");
        });

        $("#clear").on("click", function () {
            $.post("../send/?target=clear&query=");
        });

        $("#answers").on("submit", function (event) {
            event.preventDefault();
            let answers = [];
            for (let i = 1; i <= 6; i++) {
                const answer = $(`#answer${i}`).val();
                const points = $(`#points${i}`).val();
                if (!answer || !points) {
                    continue;
                }
                answers.push({
                    answer: answer,
                    points: points,
                    hidden: $(`#hidden${i}`).prop("checked"),
                });
            }

            const url = "../send/?target=answers&query=" + encodeURIComponent(JSON.stringify(answers))
            $.post(url);
        });

        $("#mistakes").on("submit", function (event) {
            event.preventDefault();
            const left = $("#mistakes input[name=left]:checked").val();
            const right = $("#mistakes input[name=right]:checked").val();
            const url = "../send/?target=mistakes&query=" + encodeURIComponent(JSON.stringify({
                left: left,
                right: right
            }));
            $.post(url);
        })


    })


</script>
</body>
</html>